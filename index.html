<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TYMORA</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', sans-serif;
            overflow: hidden;
        }
        
        /* Header */
        header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            padding: 30px 50px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 9999; 
            background: transparent;
            backdrop-filter: none;
            border-bottom: none;
            pointer-events: auto;
        }
        
        .logo {
            cursor: pointer;
            display: flex;
            align-items: center;
        }

        .logo img {
            height: 20px;
            display: block;
            transition: opacity 0.3s;
        }
        
        .logo:hover img {
            opacity: 0.7;
        }

        nav {
            display: flex;
            gap: 50px;
        }
        
        nav a {
            text-decoration: none;
            font-size: 14px;
            letter-spacing: 1px;
            cursor: pointer;
            color: #000;
            transition: opacity 0.3s;
        }
        
        nav a:hover {
            opacity: 0.6;
        }
        
        /* Pages */
        .page {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.6s ease, visibility 0.6s ease;
            z-index: 1; 
        }
        
        .page.active {
            opacity: 1;
            visibility: visible;
        }
        
        /* Home Page - 전체 화면 이미지 */
        #home-page {
            background: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .home-image {
            width: 100%;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        
        .home-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        /* Glasses Page */
        #glasses-page {
            background: #FFFFFF;
        }
        
        .glasses-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            min-height: 100vh;
        }
        
        .glasses-visual {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            gap: 80px;
            padding: 150px 50px 100px;
            overflow-y: auto;
            height: 100vh;
        }
        
        .glasses-first-image {
            width: 100%;
            max-width: 600px;
            object-fit: contain;
        }
        
        .glasses-gallery {
            width: 100%;
            max-width: 600px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .glasses-image {
            width: 100%;
            object-fit: contain;
        }
        
        .glasses-secondary-image {
            width: 100%;
            max-width: 600px;
            object-fit: contain;
        }
        
        .glasses-info {
            position: sticky;
            top: 0;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 50px;
        }
        
        .glass-card {
            background: transparent;
            backdrop-filter: none;
            padding: 60px 50px;
            border: none;
            box-shadow: none;
        }
        
        .info-title {
            font-size: 42px;
            font-weight: 400;
            letter-spacing: -0.5px;
            margin-bottom: 16px;
            color: #000;
            line-height: 1.2;
        }
        
        .info-subtitle {
            font-size: 18px;
            color: rgba(0, 0, 0, 0.6);
            margin-bottom: 40px;
            font-weight: 300;
        }
        
        .info-price {
            font-size: 32px;
            font-weight: 400;
            margin-bottom: 40px;
            color: #000;
        }
        
        .info-description {
            padding-top: 40px;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .description-title {
            font-size: 11px;
            letter-spacing: 2px;
            color: rgba(0, 0, 0, 0.5);
            margin-bottom: 20px;
            text-transform: uppercase;
            font-weight: 500;
        }
        
        .description-text {
            font-size: 15px;
            line-height: 1.7;
            color: rgba(0, 0, 0, 0.6);
            font-weight: 300;
        }
        
        /* Time Page Styling */
        #time-page {
            background: #ffffff;
            overflow-y: auto;
        }
        
        .time-layout {
            padding: 180px 80px 100px; 
            max-width: 1800px;
            margin: 0 auto;
        }
        
        .time-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 40px; 
            row-gap: 100px; 
        }
        
        .time-card {
            background: transparent;
            cursor: pointer;
            border: none;
            display: flex;
            flex-direction: column;
            position: relative;
        }
        
        .time-card-visual {
            width: 100%;
            aspect-ratio: 1.2; 
            background: #fafafa; 
            margin-bottom: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s;
        }

        .time-card:hover .time-card-visual {
            background: #f0f0f0; 
        }
        
        .time-card-3d {
            width: 100%;
            height: 100%;
        }
        
        .time-card-content {
            display: flex;
            justify-content: space-between; 
            align-items: flex-end;
            padding: 0 5px;
        }
        
        .time-info-left {
            text-align: left;
        }

        .time-deco-line {
            width: 10px;
            height: 1px;
            background: #000;
            margin-bottom: 12px;
            opacity: 0.3;
        }
        
        .time-duration {
            font-size: 14px;
            font-weight: 500;
            color: #333;
            margin-bottom: 4px;
            letter-spacing: -0.2px;
        }
        
        .time-price {
            font-size: 15px;
            color: #000;
            font-weight: 600;
        }
        
        .time-bookmark {
            width: 24px;
            height: 24px;
            opacity: 0.4;
            transition: opacity 0.3s;
        }
        
        .time-card:hover .time-bookmark {
            opacity: 1;
        }
        
        .time-buy {
            display: none; 
        }
        
        /* About Page */
        #about-page {
            background: #f8f8f8;
            overflow-y: auto;
        }
        
        .about-layout {
            padding: 160px 100px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .about-section {
            margin-bottom: 80px;
        }
        
        .about-section h2 {
            font-size: 32px;
            font-weight: 400;
            margin-bottom: 24px;
            color: #000;
        }
        
        .about-section p {
            font-size: 16px;
            line-height: 1.8;
            color: rgba(0, 0, 0, 0.7);
        }
        
        /* Time Detail Page */
        #time-detail-page {
            background: #ffffff;
            overflow-y: auto;
        }
        
        .detail-layout {
            padding: 180px 100px 100px; 
            max-width: 1600px;
            margin: 0 auto;
        }

        .detail-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 100px;
            align-items: center;
        }
        
        .detail-visual {
            width: 100%;
            aspect-ratio: 1;
        }
        
        .detail-3d {
            width: 100%;
            height: 100%;
        }
        
        .detail-info {
            max-width: 600px;
        }
        
        .detail-title {
            font-size: 48px;
            font-weight: 400;
            margin-bottom: 20px;
            color: #000;
        }
        
        .detail-price {
            font-size: 36px;
            font-weight: 400;
            margin-bottom: 50px;
            color: #000;
        }
        
        .detail-description {
            margin-bottom: 50px;
        }
        
        .detail-specs {
            margin-bottom: 50px;
        }
        
        .spec-item {
            display: flex;
            justify-content: space-between;
            padding: 16px 0;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .spec-label {
            font-size: 14px;
            color: rgba(0, 0, 0, 0.5);
            font-weight: 500;
        }
        
        .spec-value {
            font-size: 14px;
            color: #000;
            font-weight: 400;
        }
        
        .detail-buy-button {
            background: #000;
            color: white;
            border: none;
            padding: 18px 60px;
            font-size: 14px;
            letter-spacing: 1px;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            width: 100%;
        }
        
        .detail-buy-button:hover {
            background: #333;
        }
    </style>
</head>
<body>
    <div id="home-page" class="page active">
        <div class="home-image">
            <img src="main.png" alt="Tymora XR Glasses">
        </div>
    </div>
    
    <div id="glasses-page" class="page">
        <div class="glasses-layout">
           <div class="glasses-visual">
            <video class="glasses-first-image" autoplay loop muted playsinline>
                <source src="2.mp4" type="video/mp4">
            </video>

            <div class="glasses-gallery">
                <img src="1.png" alt="Glasses Detail" class="glasses-image">
            </div>

            <img src="2.png" alt="AR Interface" class="glasses-secondary-image">
            </div>
            
            <div class="glasses-info">
                <div class="glass-card">
                    <h2 class="info-title">Tymora XR Glasses</h2>
                    <p class="info-subtitle">Time-Tracking Augmented Reality Glasses</p>
                    <div class="info-price">$2,499</div>
                    
                    <div class="info-description">
                        <div class="description-title">DESCRIPTION</div>
                        <p class="description-text">
                            Experience time in a new dimension. Tymora Vision AR glasses seamlessly integrate 
                            with your daily life, displaying real-time information about your purchased time 
                            packages. The lightweight titanium frame and advanced holographic display technology 
                            provide an unprecedented window into your temporal economy.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div id="time-page" class="page">
        <div class="time-layout">
            <div class="time-grid">
                
                <div class="time-card" onclick="showTimeDetail('10min', '10 Minutes', '$5')">
                    <div class="time-card-visual">
                        <canvas class="time-card-3d" data-time="10min"></canvas>
                    </div>
                    <div class="time-card-content">
                        <div class="time-info-left">
                            <div class="time-deco-line"></div>
                            <div class="time-duration">10 Minutes</div>
                            <div class="time-price">$5</div>
                        </div>
                        <svg class="time-bookmark" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z" />
                        </svg>
                    </div>
                </div>
                
                <div class="time-card" onclick="showTimeDetail('20min', '20 Minutes', '$9')">
                    <div class="time-card-visual">
                        <canvas class="time-card-3d" data-time="20min"></canvas>
                    </div>
                    <div class="time-card-content">
                        <div class="time-info-left">
                            <div class="time-deco-line"></div>
                            <div class="time-duration">20 Minutes</div>
                            <div class="time-price">$9</div>
                        </div>
                        <svg class="time-bookmark" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z" />
                        </svg>
                    </div>
                </div>
                
                <div class="time-card" onclick="showTimeDetail('30min', '30 Minutes', '$13')">
                    <div class="time-card-visual">
                        <canvas class="time-card-3d" data-time="30min"></canvas>
                    </div>
                    <div class="time-card-content">
                        <div class="time-info-left">
                            <div class="time-deco-line"></div>
                            <div class="time-duration">30 Minutes</div>
                            <div class="time-price">$13</div>
                        </div>
                        <svg class="time-bookmark" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z" />
                        </svg>
                    </div>
                </div>
                
                <div class="time-card" onclick="showTimeDetail('1hour', '1 Hour', '$25')">
                    <div class="time-card-visual">
                        <canvas class="time-card-3d" data-time="1hour"></canvas>
                    </div>
                    <div class="time-card-content">
                        <div class="time-info-left">
                            <div class="time-deco-line"></div>
                            <div class="time-duration">1 Hour</div>
                            <div class="time-price">$25</div>
                        </div>
                        <svg class="time-bookmark" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z" />
                        </svg>
                    </div>
                </div>
                
                <div class="time-card" onclick="showTimeDetail('3hours', '3 Hours', '$70')">
                    <div class="time-card-visual">
                        <canvas class="time-card-3d" data-time="3hours"></canvas>
                    </div>
                    <div class="time-card-content">
                        <div class="time-info-left">
                            <div class="time-deco-line"></div>
                            <div class="time-duration">3 Hours</div>
                            <div class="time-price">$70</div>
                        </div>
                        <svg class="time-bookmark" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z" />
                        </svg>
                    </div>
                </div>
                
                <div class="time-card" onclick="showTimeDetail('1day', '1 Day', '$200')">
                    <div class="time-card-visual">
                        <canvas class="time-card-3d" data-time="1day"></canvas>
                    </div>
                    <div class="time-card-content">
                        <div class="time-info-left">
                            <div class="time-deco-line"></div>
                            <div class="time-duration">1 Day</div>
                            <div class="time-price">$200</div>
                        </div>
                        <svg class="time-bookmark" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z" />
                        </svg>
                    </div>
                </div>
                
                <div class="time-card" onclick="showTimeDetail('3days', '3 Days', '$550')">
                    <div class="time-card-visual">
                        <canvas class="time-card-3d" data-time="3days"></canvas>
                    </div>
                    <div class="time-card-content">
                        <div class="time-info-left">
                            <div class="time-deco-line"></div>
                            <div class="time-duration">3 Days</div>
                            <div class="time-price">$550</div>
                        </div>
                        <svg class="time-bookmark" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z" />
                        </svg>
                    </div>
                </div>
                
                <div class="time-card" onclick="showTimeDetail('1week', '1 Week', '$1,200')">
                    <div class="time-card-visual">
                        <canvas class="time-card-3d" data-time="1week"></canvas>
                    </div>
                    <div class="time-card-content">
                        <div class="time-info-left">
                            <div class="time-deco-line"></div>
                            <div class="time-duration">1 Week</div>
                            <div class="time-price">$1,200</div>
                        </div>
                        <svg class="time-bookmark" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z" />
                        </svg>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div id="about-page" class="page">
        <div class="about-layout">
            <div class="about-section">
                <h2>About Tymora</h2>
                <p>
                    Tymora is a speculative design project exploring the commodification of time 
                    in a near-future society. Through AR technology and a fictional marketplace, 
                    we examine what happens when time becomes a tradeable resource.
                </p>
            </div>
            
            <div class="about-section">
                <h2>The Technology</h2>
                <p>
                    Our AR glasses feature advanced holographic displays and neural interface technology, 
                    allowing seamless integration with your temporal purchases. The metallic design reflects 
                    the precious nature of time itself.
                </p>
            </div>
            
            <div class="about-section">
                <h2>Philosophy</h2>
                <p>
                    This project questions our relationship with time in an age of instant gratification. 
                    If time could be bought, what would we choose to extend? What moments are worth the cost? 
                    Tymora explores these questions through the lens of near-future commerce and wearable technology.
                </p>
            </div>
        </div>
    </div>
    
    <div id="time-detail-page" class="page">
        <div class="detail-layout">
            <div class="detail-content">
                <div class="detail-visual">
                    <canvas id="detail-canvas" class="detail-3d"></canvas>
                </div>
                
                <div class="detail-info">
                    <h2 class="detail-title" id="detail-title">10 Minutes</h2>
                    <div class="detail-price" id="detail-price">$5</div>
                    
                    <div class="detail-description">
                        <div class="description-title">DESCRIPTION</div>
                        <p class="description-text">
                            Purchase additional time to extend your most precious moments. 
                            This time package integrates seamlessly with your Tymora Vision AR glasses, 
                            allowing you to experience enhanced temporal awareness and extend the duration 
                            of your chosen activities.
                        </p>
                    </div>
                    
                    <div class="detail-specs">
                        <div class="description-title">SPECIFICATIONS</div>
                        <div class="spec-item">
                            <span class="spec-label">Duration:</span>
                            <span class="spec-value" id="spec-duration">10 Minutes</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">Activation:</span>
                            <span class="spec-value">Instant via AR Interface</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">Transferable:</span>
                            <span class="spec-value">No</span>
                        </div>
                    </div>
                    
                    <button class="detail-buy-button" onclick="buyTimeFromDetail()">Add to Cart</button>
                </div>
            </div>
        </div>
    </div>
    
    <header>
        <div class="logo" onclick="showPage('home')">
            <img src="logo.png" alt="TYMORA">
        </div>
        <nav>
            <a onclick="showPage('glasses')">Glasses</a>
            <a onclick="showPage('time')">Time</a>
            <a onclick="showPage('about')">About</a>
        </nav>
    </header>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        // Store current time package info
        let currentTimePackage = { type: '10min', name: '10 Minutes', price: '$5' };
        
        // Page navigation
        function showPage(pageName) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageName + '-page').classList.add('active');
        }
        
        // Show time detail page
        function showTimeDetail(timeType, timeName, price) {
            currentTimePackage = { type: timeType, name: timeName, price: price };
            
            document.getElementById('detail-title').textContent = timeName;
            document.getElementById('detail-price').textContent = price;
            document.getElementById('spec-duration').textContent = timeName;
            
            showPage('time-detail');
            
            // Initialize detail canvas
            setTimeout(() => {
                initDetailCanvas(timeType);
            }, 100);
        }
        
        // Time card purchase
        function buyTime(duration, price) {
            alert('Added ' + duration + ' to cart - $' + price);
        }
        
        // Buy from detail page
        function buyTimeFromDetail() {
            alert('Added ' + currentTimePackage.name + ' to cart - ' + currentTimePackage.price);
        }
        
        // Three.js setup for time cards with spiral animations
        const cardScenes = [];
        let detailScene = null;
        
        // Initialize detail canvas
        function initDetailCanvas(timeType) {
            const canvas = document.getElementById('detail-canvas');
            const config = timeConfigs[timeType];
            
            if (detailScene) {
                detailScene.renderer.dispose();
            }
            
            const scene = new THREE.Scene();
            scene.background = new THREE.Color(0xffffff);
            
            const camera = new THREE.PerspectiveCamera(75, 1, 0.1, 1000);
            camera.position.z = config.camZ || 100;
            
            const renderer = new THREE.WebGLRenderer({ 
                canvas: canvas,
                antialias: true,
                alpha: true
            });
            
            const size = canvas.offsetWidth;
            renderer.setSize(size, size);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
            
            // Stronger lighting setup
            scene.add(new THREE.AmbientLight(0xffffff, 1.0));
            
            const keyLight = new THREE.DirectionalLight(0xffffff, 2.0);
            keyLight.position.set(100, 100, 200);
            scene.add(keyLight);
            
            const fillLight = new THREE.DirectionalLight(0xffffff, 1.5);
            fillLight.position.set(-100, -50, 150);
            scene.add(fillLight);
            
            const backLight = new THREE.DirectionalLight(0xffffff, 1.2);
            backLight.position.set(0, -100, -100);
            scene.add(backLight);
            
            const topLight = new THREE.PointLight(0xffffff, 2.0, 800);
            topLight.position.set(0, 200, 200);
            scene.add(topLight);
            
            const spheres = [];
            const mat = new THREE.MeshStandardMaterial({
                color: 0xe8e8e8,
                metalness: 1.0,
                roughness: 0.15,
                emissive: 0x000000,
                emissiveIntensity: 0
            });
            
            // Create spheres based on time type
            if (config.isCircle) {
                for (let i = 0; i < config.count; i++) {
                    const angle = (Math.PI * 2 / config.count) * i;
                    const s = new THREE.Mesh(
                        new THREE.SphereGeometry(config.sizeStart * 0.8, 32, 32),
                        mat.clone()
                    );
                    s.userData = { angle: angle, radius: config.radius, index: i };
                    spheres.push(s);
                    scene.add(s);
                }
            } else {
                for (let i = 0; i < config.count; i++) {
                    const angle = i * config.angleStep;
                    const radius = config.radiusStart + i * config.radiusStep;
                    const size = (config.sizeStart - i * config.sizeDec) * 0.8;
                    
                    const s = new THREE.Mesh(
                        new THREE.SphereGeometry(size, 32, 32),
                        mat.clone()
                    );
                    
                    s.userData = { angle: angle, radius: radius, index: i };
                    spheres.push(s);
                    scene.add(s);
                }
            }
            
            detailScene = { scene, camera, renderer, spheres, config };
            animateDetailCanvas();
        }
        
        function animateDetailCanvas() {
            if (!detailScene) return;
            
            requestAnimationFrame(animateDetailCanvas);
            
            const time = Date.now() * detailScene.config.speed;
            
            detailScene.spheres.forEach(s => {
                const { angle, radius, index } = s.userData;
                
                s.position.x = Math.cos(angle + time) * radius;
                s.position.y = Math.sin(angle + time) * radius;
                s.position.z = Math.sin(time + index * 0.3) * (index * 5);
                s.rotation.y = time * 0.5;
            });
            
            detailScene.renderer.render(detailScene.scene, detailScene.camera);
        }
        
        // Progressive spiral evolution: circle → unwinding spiral
        const timeConfigs = {
            '10min': { 
                count: 8,
                isCircle: true,
                radius: 35,
                sizeStart: 10,
                speed: 0.0005,
                camZ: 180
            },
            '20min': { 
                count: 12,
                angleStep: 0.35,
                radiusStart: 35,
                radiusStep: 2,
                sizeStart: 12,
                sizeDec: 0.25,
                speed: 0.0004,
                camZ: 190
            },
            '30min': { 
                count: 18,
                angleStep: 0.55,
                radiusStart: 30,
                radiusStep: 3,
                sizeStart: 14,
                sizeDec: 0.3,
                speed: 0.0006,
                camZ: 200
            },
            '1hour': { 
                count: 22,
                angleStep: 0.62,
                radiusStart: 28,
                radiusStep: 3.5,
                sizeStart: 16,
                sizeDec: 0.32,
                speed: 0.0005,
                camZ: 180
            },
            '3hours': { 
                count: 32,
                angleStep: 0.75,
                radiusStart: 22,
                radiusStep: 4.5,
                sizeStart: 20,
                sizeDec: 0.35,
                speed: 0.00055,
                camZ: 180
            },
            '1day': { 
                count: 50,
                angleStep: 0.88,
                radiusStart: 16,
                radiusStep: 6.5,
                sizeStart: 26,
                sizeDec: 0.32,
                speed: 0.0005,
                camZ: 220
            },
            '3days': { 
                count: 58,
                angleStep: 0.95,
                radiusStart: 14,
                radiusStep: 6,
                sizeStart: 28,
                sizeDec: 0.3,
                speed: 0.00065,
                camZ: 240
            },
            '1week': { 
                count: 90,
                angleStep: 1.15,
                radiusStart: 10,
                radiusStep: 8,
                sizeStart: 36,
                sizeDec: 0.28,
                speed: 0.00035,
                camZ: 300
            }
        };
        
        function initTimeCards() {
            const cards = document.querySelectorAll('.time-card-3d');
            
            cards.forEach((canvas) => {
                const timeType = canvas.getAttribute('data-time');
                const config = timeConfigs[timeType];
                
                const scene = new THREE.Scene();
                scene.background = new THREE.Color(0xffffff);
                
                const camera = new THREE.PerspectiveCamera(75, 1, 0.1, 1000);
                camera.position.z = config.camZ || 100;
                
                const renderer = new THREE.WebGLRenderer({ 
                    canvas: canvas,
                    antialias: true,
                    alpha: true
                });
                
                const size = canvas.offsetWidth;
                renderer.setSize(size, size);
                renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
                
                // Stronger lighting setup
                scene.add(new THREE.AmbientLight(0xffffff, 1.0));
                
                const keyLight = new THREE.DirectionalLight(0xffffff, 2.0);
                keyLight.position.set(100, 100, 200);
                scene.add(keyLight);
                
                const fillLight = new THREE.DirectionalLight(0xffffff, 1.5);
                fillLight.position.set(-100, -50, 150);
                scene.add(fillLight);
                
                const backLight = new THREE.DirectionalLight(0xffffff, 1.2);
                backLight.position.set(0, -100, -100);
                scene.add(backLight);
                
                const topLight = new THREE.PointLight(0xffffff, 2.0, 800);
                topLight.position.set(0, 200, 200);
                scene.add(topLight);
                
                const spheres = [];
                const mat = new THREE.MeshStandardMaterial({
                    color: 0xe8e8e8,
                    metalness: 1.0,
                    roughness: 0.15,
                    emissive: 0x000000,
                    emissiveIntensity: 0
                });
                
                // Create spheres based on time type
                if (config.isCircle) {
                    // Perfect circle for 10min
                    for (let i = 0; i < config.count; i++) {
                        const angle = (Math.PI * 2 / config.count) * i;
                        const s = new THREE.Mesh(
                            new THREE.SphereGeometry(config.sizeStart * 0.8, 32, 32),
                            mat.clone()
                        );
                        s.userData = { angle: angle, radius: config.radius, index: i };
                        spheres.push(s);
                        scene.add(s);
                    }
                } else {
                    // Spiral patterns for all others
                    for (let i = 0; i < config.count; i++) {
                        const angle = i * config.angleStep;
                        const radius = config.radiusStart + i * config.radiusStep;
                        const size = (config.sizeStart - i * config.sizeDec) * 0.8;
                        
                        const s = new THREE.Mesh(
                            new THREE.SphereGeometry(size, 32, 32),
                            mat.clone()
                        );
                        
                        s.userData = { angle: angle, radius: radius, index: i };
                        spheres.push(s);
                        scene.add(s);
                    }
                }
                
                cardScenes.push({
                    scene,
                    camera,
                    renderer,
                    spheres,
                    config,
                    timeType
                });
            });
            
            animateCards();
        }
        
        function animateCards() {
            requestAnimationFrame(animateCards);
            
            cardScenes.forEach(cardScene => {
                const time = Date.now() * cardScene.config.speed;
                
                cardScene.spheres.forEach(s => {
                    const { angle, radius, index } = s.userData;
                    
                    // Standard rotation
                    s.position.x = Math.cos(angle + time) * radius;
                    s.position.y = Math.sin(angle + time) * radius;
                    
                    // Z-depth to prevent overlap
                    s.position.z = Math.sin(time + index * 0.3) * (index * 5);
                    s.rotation.y = time * 0.5;
                });
                
                cardScene.renderer.render(cardScene.scene, cardScene.camera);
            });
        }
        
        // Initialize on page load
        window.addEventListener('load', () => {
            setTimeout(initTimeCards, 500);
        });
        
        // Handle window resize
        window.addEventListener('resize', () => {
            cardScenes.forEach(cs => {
                const size = cs.renderer.domElement.offsetWidth;
                cs.renderer.setSize(size, size);
                cs.camera.aspect = 1;
                cs.camera.updateProjectionMatrix();
            });
        });
    </script>
</body>
</html>
